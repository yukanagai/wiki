<!DOCTYPE html>
<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
<link rel="stylesheet" href="d3test2.css" />
  <meta charset="utf-8">
  <title>JS Bin</title>
</head>
<body>
  <script>

  	// using callback funtion - all code will run once the data has been loaded:
  	d3.json("https://data.cityofnewyork.us/resource/8586-3zfm.json", function(data) {

  		var width = 5000;
  		var height = 1000;
      var barPadding = 1;

      // var data = data.award;
      console.log(data);
      console.log(data[0].award);

  		var canvas = d3.select("body")
  			.append("svg")
  			.attr("width", width)
  			.attr("height", height)
  			.attr("transform", "translate(100, 100)");

  		canvas.selectAll("rect")
  			.data(data.award)
  			.enter()
  				.append("rect") // append rect for each data element
            .attr("y", function(d) {
              return height - d; })  //Height minus data value
  					.attr("width", width / d.count - barPadding)
  					.attr("height", function (d) {
              return d * 4;
            });
  
  		});			

  </script>

</body>
</html>